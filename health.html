<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Andrew Hayles - Personal Health Data Analysis</title>
	<meta name="description" content="A data analysis project on personal health metrics. See how Python, Pandas, and Seaborn were used to find correlations between sleep and cardiovascular health.">

    <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
	html {
	box-sizing: border-box;
}
*, *:before, *:after {
  box-sizing: inherit;
}
	
  /* --- Base Styles & Color Variables --- */
  :root {
    /* We only need the light theme colors now */
    --light: #ffffff;
    --onLight: #050806; /* Dark text */
    --primary: #0804F6;
    --secondary: #FE491F;
    --complementary: #565862; /* Dark gray for footer text */
    --textOnImage: #FBFFF2; /* White text for hero */
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-900: #111827; /* Dark background for project cards */
  }
  body {
    background-color: var(--light);
    color: var(--onLight);
    font-family: 'Inter', sans-serif;
  }

  /* --- Styles for text on the hero background image --- */
  /* This ensures the hero text is always white */
  .hero-section-text {
    color: var(--textOnImage);
  }

  /* --- Converted .prose Styles (Light Theme Only) --- */
  .prose { color: var(--onLight); max-width: 75ch; }
  .prose h1, .prose h2, .prose h3, .prose h4 { font-family: "DM Mono", monospace; text-transform: uppercase; font-weight: 400; color: var(--onLight); }
  .prose h1 { font-size: 1.875rem; margin-bottom: 2rem; margin-top: 0; }
  .prose h2 { font-size: 1.5rem; margin-bottom: 1.5rem; margin-top: 3rem; }
  .prose h3 { font-size: 1.25rem; margin-bottom: 1rem; margin-top: 2rem; }
  .prose h4 { font-size: 1.125rem; margin-bottom: 1rem; margin-top: 1.5rem; }
  .prose p { margin-bottom: 1.5rem; line-height: 1.8; font-size: 1.125rem; }
  .prose a { color: var(--primary) !important; font-weight: 700 !important; text-decoration: underline !important; text-decoration-thickness: 2px !important; text-underline-offset: 4px !important; }
  .prose a:hover { opacity: 0.7; transition: opacity 0.2s; }
  .prose img { border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1); margin-top: 2rem; margin-bottom: 2rem; max-width: 100%; height: auto; margin-left: auto; margin-right: auto; }
  .prose blockquote { border-left: 4px solid var(--primary); padding-left: 1rem; font-style: italic; margin-top: 1.5rem; margin-bottom: 1.5rem; }
  @media (min-width: 768px) {
    .prose h1 { font-size: 2.25rem; } .prose h2 { font-size: 1.875rem; }
    .prose h3 { font-size: 1.5rem; } .prose h4 { font-size: 1.25rem; }
  }

  /* --- Converted Tailwind Utility Classes (Light Theme Only) --- */
  .container { width: 100%; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem; }
  @media (min-width: 640px) { .container { max-width: 640px; } }
  @media (min-width: 768px) { .container { max-width: 768px; } }
  @media (min-width: 1024px) { .container { max-width: 1024px; } }
  .block { display: block; } .flex { display: flex; } .grid { display: grid; }
  .flex-col { flex-direction: column; } .min-h-screen { min-height: 100vh; }
  .flex-grow { flex-grow: 1; } .justify-between { justify-content: space-between; }
  .justify-center { justify-content: center; } .items-center { align-items: center; }
  .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .gap-8 { gap: 2rem; } .relative { position: relative; } .absolute { position: absolute; }
  .sticky { position: sticky; } .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
  .top-0 { top: 0; } .z-50 { z-index: 50; } .w-full { width: 100%; }
  .h-64 { height: 16rem; } .w-6 { width: 1.5rem; } .h-6 { height: 1.5rem; }
  .object-cover { object-fit: cover; } .overflow-hidden { overflow: hidden; }
  .rounded-lg { border-radius: 0.5rem; } .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); }
  .border-b { border-bottom-width: 1px; } .border-gray-200 { border-color: var(--gray-200); }
  .px-4 { padding-left: 1rem; padding-right: 1rem; } .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
  .py-12 { padding-top: 3rem; padding-bottom: 3rem; } .py-16 { padding-top: 4rem; padding-bottom: 4rem; }
  .py-36 { padding-top: 9rem; padding-bottom: 9rem; } .p-6 { padding: 1.5rem; }
  .mt-3 { margin-top: 0.75rem; } .mt-4 { margin-top: 1rem; } .mb-4 { margin-bottom: 1rem; }
  .mb-12 { margin-bottom: 3rem; } .text-center { text-align: center; }
  .space-x-4 > :not([hidden]) ~ :not([hidden]) { margin-left: 1rem; }
  .space-x-6 > :not([hidden]) ~ :not([hidden]) { margin-left: 1.5rem; }
  .text-sm { font-size: 0.875rem; } .text-base { font-size: 1rem; }
  .text-xl { font-size: 1.25rem; } .text-2xl { font-size: 1.5rem; }
  .text-3xl { font-size: 1.875rem; } .text-4xl { font-size: 2.25rem; }
  .font-mono { font-family: "DM Mono", monospace; } .font-sans { font-family: 'Inter', sans-serif; }
  .uppercase { text-transform: uppercase; } .font-bold { font-weight: 700; }
  .font-medium { font-weight: 500; } .backdrop-blur-sm { backdrop-filter: blur(4px); }
  .transition-transform { transition-property: transform; } .duration-300 { transition-duration: 300ms; }
  .transform { transform: translate(0, 0) rotate(0) skewX(0) skewY(0) scaleX(1) scaleY(1); }
  .hover\:-translate-y-2:hover { transform: translateY(-0.5rem); }
  .hover\:text-primary:hover { color: var(--primary); }
  .group:hover .group-hover\:text-primary { color: var(--primary); }
  .group:hover .group-hover\:underline { text-decoration: underline; }
  .inline-block { display: inline-block; }
  .bg-white { background-color: #fff; }
  .bg-gray-100 { background-color: var(--gray-100); }
  .bg-light\/95 { background-color: rgba(255, 255, 255, 0.95); }
  .bg-complementary\/75 { background-color: rgba(86, 88, 98, 0.75); }
  .text-onLight { color: var(--onLight); }
  .text-complementary { color: var(--complementary); }
  @media (min-width: 768px) {
    .md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .md\:space-x-6 > :not([hidden]) ~ :not([hidden]) { margin-left: 1.5rem; }
    .md\:text-2xl { font-size: 1.5rem; } .md\:text-4xl { font-size: 2.25rem; }
    .md\:text-6xl { font-size: 3.75rem; } .md\:py-24 { padding-top: 6rem; padding-bottom: 6rem; }
    .md\:py-48 { padding-top: 12rem; padding-bottom: 12rem; }
  }
  @media (min-width: 1024px) { .lg\:gap-12 { gap: 3rem; } }
</style>
</head>

<body class="bg-light dark:bg-dark font-sans text-onLight dark:text-onDark transition-colors duration-300">
  <div class="flex flex-col min-h-screen">

    <header class="bg-light/95 dark:bg-dark/90 backdrop-blur-sm sticky top-0 z-50 border-b border-gray-200 dark:border-gray-800">
  <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
    <!-- Site Title -->
    <a href="index.html" class="text-xl font-mono uppercase font-bold text-onLight dark:text-onDark hover:text-primary dark:hover:text-secondary">
      Home
    </a>
    
    <!-- Nav Links -->
    <div class="flex items-center space-x-4 md:space-x-6">
      <a href="about.html" class="text-onLight dark:text-onDark hover:text-primary dark:hover:text-secondary font-mono uppercase text-sm font-medium">About</a>
      
      <a href="certs.html" class="text-onLight dark:text-onDark hover:text-primary dark:hover:text-secondary font-mono uppercase text-sm font-medium">Certs</a>
      
      <a href="mailto:andyhayles@gmail.com" class="text-onLight dark:text-onDark hover:text-primary dark:hover:text-secondary font-mono uppercase text-sm font-medium">Contact</a>
      
      <a href="/resume.pdf" target="_blank" rel="noopener noreferrer" class="text-onLight dark:text-onDark hover:text-primary dark:hover:text-secondary font-mono uppercase text-sm font-medium">Resume</a>
      
      <a href="https://github.com/andrewhayles/" target="_blank" rel="noopener noreferrer" class="text-onLight dark:text-onDark hover:text-primary dark:hover:text-secondary" aria-label="GitHub">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.165 6.839 9.49.5.092.682-.217.682-.483 0-.237-.009-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.951 0-1.093.39-1.988 1.03-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0 1 12 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.026 2.747-1.026.546 1.379.202 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.309.678.92.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0 0 22 12c0-5.523-4.477-10-10-10Z" clip-rule="evenodd" /></svg>
      </a>
    </div>
  </nav>
</header>

    <main class="flex-grow">
      <div class="container mx-auto px-4 py-16 md:py-24 max-w-4xl prose">
        
        <h1>Personal Health Data Analysis</h1>
		<br>
        <p>This started with the question, "Am I in good health, and how do my personal health markers vary throughout the day, week, and month?" To start answering this (in addition to seeking medical advice from a trained and licensed doctor), I purchased an affordable smart watch and I created this code to analyze my personal health data from my MorePro AIR2 Fitness Tracker watch and my body composition scale and my regular scale. It is written in Python and it uses the read_csv method to load the data into a memory location called a DataFrame in pandas and then creates several visualizations based on some statistical calculations using numpy for some of the more advanced calculations and seaborn for the visualizations.</p>
		<br>
        <p>This is a plot of most of the variables I am tracking with histograms. Most of the variables are in healthy ranges, although weight is an area of potential improvement:</p>
        
        <img src="/images/overall_distributions.webp" alt="These are the overall distributions of the variables measured by me and by the watch">
        
        <p>After this visual is closed, the next visual will be generated (the next line of code is executed in the Python script). The next step in solving my original problem is the following visualization. This visual is colored based on row, so each row has a highest value and a lowest value, with a color scale defined on the right which shows the highest and lowest values (yellow corresponding to high values, dark blue corresponding to low values). As can be seen, maximum heart rate (standard deviation and interquartile range) and maximum systolic blood pressure (mean and 50%) are the highest values. This makes it easy to see which variables vary the most and the least:</p>
        
        <img src="/images/heatmap_normalized.webp" alt="The colors are normalized by row based on the value inside the box (the highest numbers are yellow, the lowest numbers are dark blue)">
        
        <p>Then the following is produced. This is a correlation table. The darker the red color, the higher the positive correlation. The darker the blue color, the lower the negative correlation. As can be seen, there is a very strong positive correlation between heart rate, stress, and blood pressure. These are apparently very tightly linked physiological indicators. The colors are shown for all possible correlations in the table but the numbers are only included if they are statistically significant:</p>
        
        <img src="/images/heatmap_correlations.webp" alt="These are the correlations of the variables with each other, the more red the higher positive, the more blue the lower negative">
        
        <p>When the previous night's sleep data is checked for relationship to health markers, something significant happens. The effect of sleep becomes more manifest. There is a modest negative correlation between previous night's sleep and many of the health markers, including stress levels and blood pressure. This is not manifest in the previous correlation table because this table is based on <em>that night's</em> sleep, in other words, it checks to see how does the day's stress and blood pressure affect sleep that night. The following graph checks to see how does the previous night affect the following day's blood pressure and stress level, and in this there is a modest but significant correlation.</p>
        
        <img src="/images/correlation_matrix_previous_night.webp" alt="Correlations for previous night's sleep">
        
        <p>Lastly, a table is produced with ranges of the variables (this tells me how my health markers vary somewhat) and some other useful information. To get the variance throughout the day, actually looking at the data in the software application on my smart phone is necessary and predictable trends are manifest, stress rises when I wake up, reaches a peak, and decreases towards bed time. Blood pressure and heart rate share a similar pattern. If I get sick or have a night of poor sleep, stress, blood pressure, and heart rate tend to be higher:</p>
        <br>
        <img src="/images/range_calculations.png" alt="These are the ranges of each variable.">
        <br>
        <p>Here is a link to a Power BI feature: <a href="https://app.powerbi.com/view?r=eyJrIjoiYjcxOTc4NTItYzBiYi00MDk1LWE1ODQtYjBiN2JlNTJiNTQ5IiwidCI6IjE5NWQ0ZTBiLTAzM2UtNDAzNi05ZDAwLTJiOGY0MDA1OWE3YyIsImMiOjZ9" target="_blank" rel="noopener noreferrer">please click here to view</a>. This is a nicely interactive feature. Click on the dependent (Y-Axis) variable on the left and see statistical summary data and scatter chart.</p>
		<br>
        <p>As can be seen, a simple CSV file can be read by the pandas library in Python and some statistical calculations can be made with the numpy library followed by visualizations prepared by the seaborn and matplotlib libraries. In the future I'd like to analyze the data from my body composition scale as I collect enough data (I only use it twice per month because the measurement doesn't change much day-to-day and the battery dies rapidly if regularly used). This project demonstrates the power of Python's data analysis libraries in transforming raw sensor data into actionable insights.</p>
		<br>
        <p>The code used for this analysis is available below if you're interested in viewing it:</p>
		<br>
        <p><a href ="https://github.com/andrewhayles/health">Scripts used for this analysis</a></p>
		<br>

      </div>
    </main>

    <footer class="bg-gray-100 dark:bg-gray-900 text-complementary dark:text-onComplementary py-12">
      <div class="container mx-auto px-4 text-center">
        <div class="flex justify-center space-x-6 mb-4">
          <a href="mailto:andyhayles@gmail.com" class="hover:text-primary dark:hover:text-secondary">Contact</a>
          <a href="https://github.com/andrewhayles/" target="_blank" rel="noopener noreferrer" class="hover:text-primary dark:hover:text-secondary">GitHub</a>
        </div>
        <p class="text-sm">Powered by <a href="https://www.netlify.com/" target="_blank" rel="noopener noreferrer" class="hover:text-primary dark:hover:text-secondary">Netlify</a></p>
        <p class="text-sm">&copy; 2024 Andrew Hayles. All rights reserved.</p>
      </div>
    </footer>

  </div>
</body>
</html>