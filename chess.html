<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Andrew Hayles - Chess Database Analysis</title>

    <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
	html {
	box-sizing: border-box;
}
*, *:before, *:after {
  box-sizing: inherit;
}
	
  /* --- Base Styles & Color Variables --- */
  :root {
    /* We only need the light theme colors now */
    --light: #ffffff;
    --onLight: #050806; /* Dark text */
    --primary: #0804F6;
    --secondary: #FE491F;
    --complementary: #565862; /* Dark gray for footer text */
    --textOnImage: #FBFFF2; /* White text for hero */
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-900: #111827; /* Dark background for project cards */
  }
  body {
    background-color: var(--light);
    color: var(--onLight);
    font-family: 'Inter', sans-serif;
  }

  /* --- Styles for text on the hero background image --- */
  /* This ensures the hero text is always white */
  .hero-section-text {
    color: var(--textOnImage);
  }

  /* --- Converted .prose Styles (Light Theme Only) --- */
  .prose { color: var(--onLight); max-width: 75ch; }
  .prose h1, .prose h2, .prose h3, .prose h4 { font-family: "DM Mono", monospace; text-transform: uppercase; font-weight: 400; color: var(--onLight); }
  .prose h1 { font-size: 1.875rem; margin-bottom: 2rem; margin-top: 0; }
  .prose h2 { font-size: 1.5rem; margin-bottom: 1.5rem; margin-top: 3rem; }
  .prose h3 { font-size: 1.25rem; margin-bottom: 1rem; margin-top: 2rem; }
  .prose h4 { font-size: 1.125rem; margin-bottom: 1rem; margin-top: 1.5rem; }
  .prose p { margin-bottom: 1.5rem; line-height: 1.8; font-size: 1.125rem; }
  .prose a { color: var(--primary) !important; font-weight: 700 !important; text-decoration: underline !important; text-decoration-thickness: 2px !important; text-underline-offset: 4px !important; }
  .prose a:hover { opacity: 0.7; transition: opacity 0.2s; }
  .prose img { border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1); margin-top: 2rem; margin-bottom: 2rem; max-width: 100%; height: auto; margin-left: auto; margin-right: auto; }
  .prose blockquote { border-left: 4px solid var(--primary); padding-left: 1rem; font-style: italic; margin-top: 1.5rem; margin-bottom: 1.5rem; }
  @media (min-width: 768px) {
    .prose h1 { font-size: 2.25rem; } .prose h2 { font-size: 1.875rem; }
    .prose h3 { font-size: 1.5rem; } .prose h4 { font-size: 1.25rem; }
  }

  /* --- Converted Tailwind Utility Classes (Light Theme Only) --- */
  .container { width: 100%; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem; }
  @media (min-width: 640px) { .container { max-width: 640px; } }
  @media (min-width: 768px) { .container { max-width: 768px; } }
  @media (min-width: 1024px) { .container { max-width: 1024px; } }
  .block { display: block; } .flex { display: flex; } .grid { display: grid; }
  .flex-col { flex-direction: column; } .min-h-screen { min-height: 100vh; }
  .flex-grow { flex-grow: 1; } .justify-between { justify-content: space-between; }
  .justify-center { justify-content: center; } .items-center { align-items: center; }
  .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .gap-8 { gap: 2rem; } .relative { position: relative; } .absolute { position: absolute; }
  .sticky { position: sticky; } .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
  .top-0 { top: 0; } .z-50 { z-index: 50; } .w-full { width: 100%; }
  .h-64 { height: 16rem; } .w-6 { width: 1.5rem; } .h-6 { height: 1.5rem; }
  .object-cover { object-fit: cover; } .overflow-hidden { overflow: hidden; }
  .rounded-lg { border-radius: 0.5rem; } .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); }
  .border-b { border-bottom-width: 1px; } .border-gray-200 { border-color: var(--gray-200); }
  .px-4 { padding-left: 1rem; padding-right: 1rem; } .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
  .py-12 { padding-top: 3rem; padding-bottom: 3rem; } .py-16 { padding-top: 4rem; padding-bottom: 4rem; }
  .py-36 { padding-top: 9rem; padding-bottom: 9rem; } .p-6 { padding: 1.5rem; }
  .mt-3 { margin-top: 0.75rem; } .mt-4 { margin-top: 1rem; } .mb-4 { margin-bottom: 1rem; }
  .mb-12 { margin-bottom: 3rem; } .text-center { text-align: center; }
  .space-x-4 > :not([hidden]) ~ :not([hidden]) { margin-left: 1rem; }
  .space-x-6 > :not([hidden]) ~ :not([hidden]) { margin-left: 1.5rem; }
  .text-sm { font-size: 0.875rem; } .text-base { font-size: 1rem; }
  .text-xl { font-size: 1.25rem; } .text-2xl { font-size: 1.5rem; }
  .text-3xl { font-size: 1.875rem; } .text-4xl { font-size: 2.25rem; }
  .font-mono { font-family: "DM Mono", monospace; } .font-sans { font-family: 'Inter', sans-serif; }
  .uppercase { text-transform: uppercase; } .font-bold { font-weight: 700; }
  .font-medium { font-weight: 500; } .backdrop-blur-sm { backdrop-filter: blur(4px); }
  .transition-transform { transition-property: transform; } .duration-300 { transition-duration: 300ms; }
  .transform { transform: translate(0, 0) rotate(0) skewX(0) skewY(0) scaleX(1) scaleY(1); }
  .hover\:-translate-y-2:hover { transform: translateY(-0.5rem); }
  .hover\:text-primary:hover { color: var(--primary); }
  .group:hover .group-hover\:text-primary { color: var(--primary); }
  .group:hover .group-hover\:underline { text-decoration: underline; }
  .inline-block { display: inline-block; }
  .bg-white { background-color: #fff; }
  .bg-gray-100 { background-color: var(--gray-100); }
  .bg-light\/95 { background-color: rgba(255, 255, 255, 0.95); }
  .bg-complementary\/75 { background-color: rgba(86, 88, 98, 0.75); }
  .text-onLight { color: var(--onLight); }
  .text-complementary { color: var(--complementary); }
  @media (min-width: 768px) {
    .md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .md\:space-x-6 > :not([hidden]) ~ :not([hidden]) { margin-left: 1.5rem; }
    .md\:text-2xl { font-size: 1.5rem; } .md\:text-4xl { font-size: 2.25rem; }
    .md\:text-6xl { font-size: 3.75rem; } .md\:py-24 { padding-top: 6rem; padding-bottom: 6rem; }
    .md\:py-48 { padding-top: 12rem; padding-bottom: 12rem; }
  }
  @media (min-width: 1024px) { .lg\:gap-12 { gap: 3rem; } }
</style>
</head>

<body class="bg-light dark:bg-dark font-sans text-onLight dark:text-onDark transition-colors duration-300">
  <div class="flex flex-col min-h-screen">

    <!-- === Header (Consistent with index.html) === -->
    <header class="bg-light/95 dark:bg-dark/90 backdrop-blur-sm sticky top-0 z-50 border-b border-gray-200 dark:border-gray-800">
      <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
        <!-- Site Title -->
        <a href="index.html" class="text-xl font-mono uppercase font-bold text-onLight dark:text-onDark hover:text-primary dark:hover:text-secondary">
          Home
        </a>
        
        <!-- Nav Links -->
        <div class="flex items-center space-x-4 md:space-x-6">
          <a href="about.html" class="text-onLight dark:text-onDark hover:text-primary dark:hover:text-secondary font-mono uppercase text-sm font-medium">About</a>
          <a href="https://github.com/andrewhayles/" target="_blank" rel="noopener noreferrer" class="text-onLight dark:text-onDark hover:text-primary dark:hover:text-secondary" aria-label="GitHub">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.165 6.839 9.49.5.092.682-.217.682-.483 0-.237-.009-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.951 0-1.093.39-1.988 1.03-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0 1 12 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.026 2.747-1.026.546 1.379.202 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.309.678.92.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0 0 22 12c0-5.523-4.477-10-10-10Z" clip-rule="evenodd" /></svg>
          </a>
        </div>
      </nav>
    </header>

    <!-- === Main Content === -->
    <main class="flex-grow">
      <!-- Using max-w-4xl for a comfortable reading width for articles -->
      <div class="container mx-auto px-4 py-16 md:py-24 max-w-4xl prose">
        
        <!-- Title from frontmatter -->
        <h1>Chess Database Analysis</h1>
		<br>


        <!-- Main content from markdown body -->
        <h3>Brief Analysis of Personal Chess Database</h3>
		<br>
        <p>A similar methodology to that which is used in this report is employed in the book titled “Chess Two New Rating Systems: The 2022 Best Players in History (English Edition)” available on Amazon.com by Hindemburg Melão Jr. He also found a strong relationship between “hit count” in the sense found in this report and chess engine ELO strength.</p>
        <br>
        <p>This is based on an analysis of 84 chess games of mine on chess.com from recent months. I analyzed all the games from move 5 onward (this produces 2,569 positions) with a very strong stockfish engine on its maximum strength setting with a large analysis depth and generous time limit to find the "perfect" move in each position of each game. Then I analyzed the hit count of each of these lesser strength engines and then applied optimized weights to the hits (1st best move gets a 1, 2nd best move gets a 1, third best move gets a 0.55). In this particular analysis I suppressed the performance of the stockfish 1950 - 2050 rated engines (three engines) by reducing the depth of their analysis of each move and I removed the highest rated stockfish engine (3644 ELO) because it wasn't performing as well as it should. This rating estimate for me based on my personal hit count (adjusted with weights) is approximately what my rating is right now on chess.com. So this suggests that my performance is reflected accurately in my rating. I am not performing at a much higher level than my rating suggests, or lower level. Extremely interesting is when I run the analysis on only moves 10-14. My rating is very low. I don't tend to make the right moves at this stage of the game. I need to work on that.</p>
        
        <!-- Replaced local image with placeholder -->
        <img src="/images/image1.webp" alt="Graph of hit count score versus rating for analysis over all moves from move 5" style="max-width: 100%; height: auto; margin: 25px;">
        
        <p>Here is the optimized graph for moves 10-14 only (inclusive). As can be seen, my rating is lower than the lowest rated engine. Suggesting I am very poor at selecting the "best" move at this stage of the game.</p>
        
        <!-- Replaced local image with placeholder -->
        <img src="/images/image2.webp" alt="Graph of hit count score versus rating for analysis for moves 10-14 only" style="max-width: 100%; height: auto; margin: 25px;"">
        
        <p>Using SQL I applied a filter to my games to see if it made any difference in how long the game lasted on my win percentage. It turns out it often seems to, but mostly doesn't matter. However, since I found some interesting results in SQL I decided to do a more thorough analysis using Python and a statistical significance test called Chi-Square Test for Independence. This is a good test for determining if there is indeed a relationship between categorical variables or not. So I used Google Gemini to help build a script that would test different ranges of game-lengths for a statistically significant relationship. This is what it found:</p>
        
        <!-- Replaced local image with placeholder -->
        <img src="/images/pvalues_chisquare.webp" alt="Graph of p-values" style="max-width: 100%; height: auto; margin: 25px;">
        
        <p>Essentially, there is no meaningful relationship between the length of the game and my percentage of wins except when one considers games that are between 0-49 plies (about 25 moves for both players) and games greater than or equal to 50 plies in length. When you consider the specific win percentages for this range (see below):</p>
        
        <!-- Replaced local image with placeholder -->
        <img src="/images/SQLoutput_chess_percentages.png" alt="Table of win percentages" style="max-width: 100%; height: auto; margin: 25px;">
        
        <p>...one can easily see that when the games are shorter, I lose much more often, and when the games are longer, I normally win. This could mean many things, like for example I am very skilled in the late middle-game to end game stages. Or perhaps I am very poor in the opening. I think what this truly reflects is that when I lose games it is normally as a result of making some foolish error in the early stages of the game which is already decisive by the 25th move, so that I normally resign or am checkmated in these games. The vast majority of the games (over 2/3) that I don't make foolish mistakes in the opening and early middle-game in, I win.</p>
        <br>
        <p>Upon analyzing my most recent chess games, I got a slightly higher estimate of my rating (consistent with my increased rating on chess.com and my efforts to improve my performance at chess). The only problem I found was that I was getting a very narrow range of performance out of the engines I was using to make the estimate, which is not ideal. It would be nice to have a wide range of performances from a wide range of engine strengths instead of a rating range of 1000 points corresponding to a hit proportion score of 0.6 to 0.7 only. I made many efforts to try to achieve this, using node limits on the engines, using specific rating limits, using time limits, using depth limits, and combinations of the previously mentioned limits. All of these efforts failed and so I decided to switch my measurement method.</p>
        <br>
        <p>I decided to use a different metric called "average centipawn loss" to estimate my performance rating. This is a widely accepted metric in the chess community and not nearly as controversial of a method to use for estimating one's performance. I utilized Google Gemini to help build a script to analyze my games using the Stockfish engine for centipawn loss (CPL) and calculate an output file with my results. This is what resulted:</p>
        <br>
        <!-- Formatted ACPL report -->
        <h4>ACPL (Average Centipawn Loss) Report for: Desjardins373</h4>
		<br>
		<hr>
		<pre><code class="language-text">Calculated ACPL: 54.09
		<br>
		Analyzed Moves: 3683
		<br>

		Estimated Skill Level: Expert / Club Player Level</code></pre>
		<br>
		<hr>
		<h4>What is ACPL?</h4>
		<br>
		<hr>
		<p>Average Centipawn Loss (ACPL) is a metric used to measure the accuracy of chess moves. A "centipawn" is 1/100th of a pawn. ACPL represents the average number of centipawns you lost per move compared to the engine's best move. A lower ACPL means your moves were closer to the computer's top choices, indicating higher accuracy.</p>
		<br>
		<hr>
		<h4>Practical ACPL Tiers (Perspective):</h4>
		<br>
		<hr>
		<p>These ranges are approximations, particularly for games with faster time controls, but they provide a useful reference point for self-assessment.</p>
		<br>
		<ul>
		  <li><strong>10-20: Super Grandmaster (2700+ Elo):</strong> World-class precision, frequently dropping into single digits in top-level matches.</li>
		  <li><strong>20-25: Grandmaster (2500-2700 Elo):</strong> Exceptional consistency and a low frequency of significant errors.</li>
		  <li><strong>25-35: Master (2200-2400 Elo):</strong> Strong, professional-level play, indicating a solid performance.</li>
		  <li><strong>30-60: Expert / Club Player (1800-2200 Elo):</strong> Represents strong amateur and tournament players. Averages in the 50s and 60s are common, especially in faster time controls.</li>
		  <li><strong>60-120: Intermediate Player (1200-1800 Elo):</strong> A typical range for the large cohort of intermediate players. Games are often decided by more obvious tactical mistakes.</li>
		  <li><strong>100+: Novice / Beginner (&lt;1200 Elo):</strong> Fundamental blunders are common. Scores of 150 or higher are commonplace. An ACPL over 300 suggests a player is very new to the game.</li>
		</ul>
		<br>
		<p><em>Note: These ranges are approximate and can be affected by the complexity of the games, time control, and the depth of the analysis engine.</em></p>
		<hr>
		<br>
        <p>So, in contrast to many claims by friends and family that I am "...like a chess master" the true measurements don't bear this out, I fall significantly short of playing at this level of skill.</p>
        

		<br>
        <p><a href ="https://github.com/andrewhayles/chess_analysis">Scripts used for this analysis</a></p>
		<br>

        <!-- Final paragraph with mailto link -->
        <p>I hope you enjoyed this analysis. Please feel free to send any comments, suggestions, thoughts, criticisms or insights to <a href="mailto:andyhayles@gmail.com">andyhayles@gmail.com</a>.</p>

      </div> <!-- /prose container -->
    </main>

    <!-- === Footer (Consistent with index.html) === -->
    <footer class="bg-gray-100 dark:bg-gray-900 text-complementary dark:text-onComplementary py-12">
      <div class="container mx-auto px-4 text-center">
        <div class="flex justify-center space-x-6 mb-4">
          <a href="mailto:andyhayles@gmail.com" class="hover:text-primary dark:hover:text-secondary">Contact</a>
          <a href="https://github.com/andrewhayles/" target="_blank" rel="noopener noreferrer" class="hover:text-primary dark:hover:text-secondary">GitHub</a>
        </div>
        <!-- Copyright text from config.json -->
        <p class="text-sm">Powered by <a href="https://www.netlify.com/" target="_blank" rel="noopener noreferrer" class="hover:text-primary dark:hover:text-secondary">Netlify</a></p>
        <p class="text-sm">&copy; 2024 Andrew Hayles. All rights reserved.</p>
      </div>
    </footer>

  </div><!-- /flex-col min-h-screen -->
</body>
</html>
